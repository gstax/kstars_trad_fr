<html><head><title>Contrôle de périphériques à distance</title><link rel="stylesheet" type="text/css" href="help:/kdoctools5-common/kde-default.css"><link rel="stylesheet" type="text/css" href="help:/kdoctools5-common/kde-docs.css"><link rel="stylesheet" type="text/css" href="help:/kdoctools5-common/kde-localised.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><meta name="keywords" content="KDE, kdeedu, Astronomie, KStars"><link rel="home" href="index.html" title="Manuel de KStars"><link rel="up" href="indi.html" title="Chapter 7. Contrôle de matériel astronomique avec INDI"><link rel="prev" href="indi-concepts.html" title="Concepts INDI"><link rel="next" href="indi-faq.html" title="Foire aux questions d'INDI"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="GENERATOR" content="KDE XSL Stylesheet V1.14 using libxslt"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div id="content"><div id="header"><div id="header_content"><div id="header_left"><div id="header_right"><img src="help:/kdoctools5-common/top-kde.jpg" width="36" height="34"> Contrôle de périphériques à distance</div></div></div></div><div class="navCenter"><table class="navigation"><tr><td class="prevCell"><a accesskey="p" href="indi-concepts.html">Prev</a></td><td class="upCell">Contrôle de matériel astronomique avec <acronym class="acronym">INDI</acronym></td><td class="nextCell"><a accesskey="n" href="indi-faq.html">Next</a></td></tr></table></div><div id="contentBody"><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="indi-remote-control"></a>Contrôle de périphériques à distance</h2></div></div></div><a class="indexterm" name="idm5919"></a><p><span class="application">KStars</span> fournit une couche de contrôle de périphérique à distance simple, mais puissante. Une description détaillée de la couche est décrite dans <a class="ulink" href="https://www.clearskyinstitute.com/INDI/INDI.pdf" target="_top">l'article</a> sur INDI. </p><p>Vous avez besoin de configurer à la fois les machines serveur et client pour le contrôle à distance : </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">Serveur</span></span> : pour préparer un matériel pour le contrôle distant, suivez les mêmes étapes que dans le réglage <a class="link" href="indi.html#indi-kstars-setup" title="Réglage INDI">local / serveur</a>. Lorsque vous lancez un service de matériel dans le <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">gestionnaire de périphériques</span></span>, un numéro de port s'affiche sous la colonne <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">Port pour écouter</span></span>. En plus du numéro de port, vous avez aussi besoin du nom d'hôte ou adresse IP de votre serveur. </p></li><li class="listitem"><p><span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">Client</span></span> : sélectionnez le <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guimenuitem">gestionnaire de périphériques</span></span>+<span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guimenu">Périphériques</span></span> et cliquez sur l'onglet <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">Client</span></span>. Vous pouvez ajouter, modifier ou supprimer des hôtes sous l'onglet <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">Client</span></span>. Ajoutez un hôte en cliquant sur le bouton <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guibutton">Ajouter</span></span>. Donnez un nom d'hôte / adresse IP sur le serveur dans le champ <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">Hôte</span></span> et donnez le numéro de port obtenu de la machine <span class="emphasis"><em>serveur</em></span> dans l'étape 1. </p></li></ol></div><div class="screenshot"><div xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="mediaobject"><img src="indiclient.png"></div></div><p>Après que vous aurez ajouté un hôte, cliquez avec le bouton droit sur l'hôte à <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guimenuitem">connecter</span></span> ou <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guimenuitem">déconnecter</span></span>. Si une connexion est établie, vous pouvez contrôler le télescope depuis la <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">Carte du ciel</span></span> ou le <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">tableau de bord INDI</span></span> exactement comme décrit dans la section <a class="link" href="indi.html#indi-kstars-setup" title="Réglage INDI">local / serveur</a>. c'est aussi facile que ça. </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="indi-commandline"></a>Lancement d'un serveur INDI depuis la ligne de commande</h3></div></div></div><p>Comme <span class="application">KStars</span> vous permet de déployer un serveur INDI, vous pouvez lancer un serveur INDI depuis la ligne de commande. </p><p>Comme INDI est indépendant du composant d'arrière-plan, vous pouvez lancer un serveur INDI sur un hôte sans <span class="application">KStars</span>. INDI peut être compilé séparément pour fonctionner sur des hôtes distants. De plus, les pilotes de périphériques écrivent dans un journal les messages dans <code class="constant">stderr</code>. Cela peut être utile pour les situations de recherche d'erreur. La syntaxe pour le serveur INDI est la suivante : </p><p>$ <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="command"><span class="command"><strong>indiserver</strong></span></span> [options] driver [<code class="filename">driver</code>…] </p><pre class="screen">Options:
 -l d     : Log driver messages to &lt;d&gt;/YYYY-MM-DD.islog
 -m m     : Kill client if gets more than this many MB behind, default 128.
 -d m     : Drop streaming blobs if client gets more than this many MB behind, default 5. 0 to disable.
 -p p     : Alternate IP port, default 7624.
 -r r     : Maximum driver restarts on error, default 10.
 -f path  : Path to fifo for dynamic startup and shutdown of drivers.
 -v       : Show key events, no traffic.
 -vv      : -v + key message content.
 -vvv     : -vv + complete xml.
 driver   : Executable or [device]@host[:port]
</pre><p>Par exemple, si vous voulez démarrer un serveur INDI gérant un pilote LX200 GPS et écouter les connexions sur le port 8000, vous devez lancer la commande suivante : </p><p>$ <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="command"><span class="command"><strong>indiserver</strong></span></span> -p 8000 <code class="filename">LX200GPS</code></p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="indi-secure-remote"></a>Sécurisation des opérations distantes</h3></div></div></div><p>Supposons que nous voulions lancer un indiserver avec les pilotes INDI sur une machine distante, <code class="constant">machine-distante</code>, et les connecter à <span class="application">KStars</span> qui fonctionne sur la machine locale. </p><p>Depuis la machine locale, connectez-vous sur la machine distante <code class="constant">machine-distante</code> en saisissant : </p><p>$ <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="command"><span class="command"><strong>ssh</strong></span></span> -L <code class="varname">local-port</code> : <code class="constant">remote-host</code> : <code class="varname">remote-port</code></p><p>Ceci lie le <code class="varname">local-port</code> de la machine locale au <code class="varname">remote-port</code> du <code class="constant">remote-host</code>. Après connexion, exécutez indiserver sur la machine distante : </p><p>$ <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="command"><span class="command"><strong>indiserver</strong></span></span> -p <code class="varname">remote-port</code> [<code class="filename">driver</code>...]</p><p>De retour sur la machine locale, lancez <span class="application">KStars</span>, puis ouvrez le <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guimenuitem">Gestionnaire de périphériques</span></span> et ajoutez un hôte sous l'onglet <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guilabel">Client</span></span>. L'hôte doit être localhost (habituellement 127.0.0.1) et le numéro de port doit être le <code class="varname">local-port</code> utilisé dans les étapes ci-dessus. Cliquez avec le bouton <span class="mousebutton">droit</span> sur l'hôte et sélectionnez <span xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="guiitem"><span class="guimenuitem">Connecter</span></span> dans le menu contextuel. <span class="application">KStars</span> se connectera au serveur INDI distant en sécurité. Les informations d'hôte seront enregistrées pour les sessions futures.</p></div></div></div><div id="footer"><div class="navCenter"><table class="navigation"><tr><td class="prevCell"><a accesskey="p" href="indi-concepts.html">Prev</a></td><td class="upCell"><a accesskey="h" href="index.html">Contents</a></td><td class="nextCell"><a accesskey="n" href="indi-faq.html">Next</a></td></tr><tr><td class="prevCell">Concepts INDI </td><td class="upCell">Contrôle de matériel astronomique avec <acronym class="acronym">INDI</acronym></td><td class="nextCell"> Foire aux questions d'INDI</td></tr></table></div><div id="footer_text">Would you like to make a comment or contribute an update to this page?<br>Send feedback to the <a href="mailto:kde-doc-english@kde.org" class="footer_email">KDE Docs Team</a></div></div></div></body></html>